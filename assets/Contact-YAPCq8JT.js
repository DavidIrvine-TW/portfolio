import{j as t,I as F,w as I,b}from"./index-XCp_kSyV.js";const n={origin:"https://api.emailjs.com",blockHeadless:!1},v=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},q=(e,s="https://api.emailjs.com")=>{if(!e)return;const a=v(e);n.publicKey=a.publicKey,n.blockHeadless=a.blockHeadless,n.blockList=a.blockList,n.limitRate=a.limitRate,n.origin=a.origin||s};class j{constructor(s=0,a="Network Error"){this.status=s,this.text=a}}const w=async(e,s,a={})=>{const i=await fetch(n.origin+e,{method:"POST",headers:a,body:s}),r=await i.text(),c=new j(i.status,r);if(i.ok)return c;throw c},N=(e,s,a)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!s||typeof s!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!a||typeof a!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},P=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},k=e=>e.webdriver||!e.languages||e.languages.length===0,y=()=>new j(451,"Unavailable For Headless Browser"),C=(e,s)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof s!="string")throw"The BlockList watchVariable has to be a string"},V=e=>{var s;return!((s=e.list)!=null&&s.length)||!e.watchVariable},B=(e,s)=>e instanceof FormData?e.get(s):e[s],R=(e,s)=>{if(V(e))return!1;C(e.list,e.watchVariable);const a=B(s,e.watchVariable);return typeof a!="string"?!1:e.list.includes(a)},L=()=>new j(403,"Forbidden"),K=(e,s)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(s&&typeof s!="string")throw"The LimitRate ID has to be a string"},D=(e,s,a)=>{const i=Number(a.getItem(e)||0);return s-Date.now()+i},x=(e,s,a)=>{setTimeout(()=>{a.removeItem(e)},s)},E=(e,s,a)=>{if(!a.throttle)return!1;K(a.throttle,a.id);const i=a.id||s,r=D(i,a.throttle,e);return r>0?(x(i,r,e),!0):(e.setItem(i,Date.now().toString()),x(i,a.throttle,e),!1)},T=()=>new j(429,"Too Many Requests"),O=(e,s,a,i)=>{const r=v(i),c=r.publicKey||n.publicKey,o=r.blockHeadless||n.blockHeadless,p={...n.blockList,...r.blockList},d={...n.limitRate,...r.limitRate};return o&&k(navigator)?Promise.reject(y()):(N(c,e,s),P(a),a&&R(p,a)?Promise.reject(L()):E(localStorage,location.pathname,d)?Promise.reject(T()):w("/api/v1.0/email/send",JSON.stringify({lib_version:"4.1.0",user_id:c,service_id:e,template_id:s,template_params:a}),{"Content-type":"application/json"}))},A=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},U=e=>typeof e=="string"?document.querySelector(e):e,z=(e,s,a,i)=>{const r=v(i),c=r.publicKey||n.publicKey,o=r.blockHeadless||n.blockHeadless,p={...n.blockList,...r.blockList},d={...n.limitRate,...r.limitRate};if(o&&k(navigator))return Promise.reject(y());const f=U(a);N(c,e,s),A(f);const l=new FormData(f);return R(p,l)?Promise.reject(L()):E(localStorage,location.pathname,d)?Promise.reject(T()):(l.append("lib_version","4.1.0"),l.append("service_id",e),l.append("template_id",s),l.append("user_id",c),w("/api/v1.0/email/send-form",l))},G={init:q,send:O,sendForm:z},J=()=>t.jsx("span",{className:"rounded-full shadow-md border-2 p-2 w-min h-min border-gray-500",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"#78716C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"tabler-icon tabler-icon-mail",children:[t.jsx("path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z"}),t.jsx("path",{d:"M3 7l9 6l9 -6"})]})}),W=()=>t.jsx("footer",{className:"footer",children:t.jsxs("div",{className:"footer-wrapper",children:[t.jsx("div",{className:"footer-logo",children:t.jsx("a",{href:"https://www.linkedin.com/in/david-irvine-b367b6248/",target:"_blank",rel:"noopener noreferrer",children:"David Irvine Portfolio"})}),t.jsxs("ul",{className:"footer-social-links",children:[t.jsx("li",{className:"footer-social-link",children:t.jsx("a",{href:"https://github.com/DavidIrvine-TW",target:"_blank",rel:"noreferrer",children:t.jsx(F,{})})}),t.jsx("li",{className:"footer-social-link",children:t.jsx("a",{href:"https://www.linkedin.com/in/david-irvine-b367b6248/",target:"_blank",rel:"noreferrer",children:t.jsx(I,{})})})]}),t.jsx("div",{children:t.jsx("span",{className:"footer-copyright select-none",children:" Â© 2025"})})]})}),Q=()=>{const e=b.useRef(),[s,a]=b.useState(""),[i,r]=b.useState(""),[c,o]=b.useState(""),[p,d]=b.useState(""),f="service_sfe4lok",l="template_2k64qci",_="dXv-sln1zBsnGA9Bl",S=m=>{m.preventDefault();const{user_name:h,user_email:u,message:H}=m.target.elements;h.value.trim()?r(""):r("* Required"),u.value.trim()?/\S+@\S+\.\S+/.test(u.value)?o(""):o("* Invalid email address"):o("* Required"),H.value.trim()?d(""):d("* Required"),G.sendForm(f,l,e.current,_).then(()=>{a("Message sent!"),e.current.reset()},()=>{a("Failed to send email. Please try again.")})},g=m=>{const{name:h,value:u}=m.target;h==="user_name"?r(u.trim()?"":"* Required"):h==="user_email"?o(u.trim()?"":"* Required"):h==="message"&&d(u.trim()?"":"* Required")},M=m=>{navigator.clipboard.writeText(m).then(()=>{alert("Email address copied to clipboard: ",m)}).catch(h=>{console.error("Failed to copy email:",h)})};return t.jsxs("section",{id:"contact",className:"contact-section ",children:[t.jsxs("div",{className:"contact-floating-shapes",children:[t.jsx("div",{className:"contact-shape contact-shape-1"}),t.jsx("div",{className:"contact-shape contact-shape-2"}),t.jsx("div",{className:"contact-shape contact-shape-3"}),t.jsx("div",{className:"contact-shape contact-shape-4"}),t.jsx("div",{className:"contact-shape contact-shape-5"})]}),t.jsxs("div",{className:"contact-wrapper ",children:[t.jsxs("div",{className:"contact-container ",children:[t.jsxs("div",{className:"contact-header-wrapper ",children:[t.jsxs("div",{className:"contact-header-left ",children:[t.jsx("h3",{className:"contact-heading  section-heading select-none",children:"Contact"}),t.jsx("h4",{className:"contact-subheading section-subheading select-none",children:"I'll get back to you soon..."})]}),t.jsx("div",{className:"contact-info-wrapper",children:t.jsxs("div",{className:"contact-info-item",children:[t.jsx(J,{}),t.jsx("div",{className:"contact-info-text-wrapper",children:t.jsx("span",{onClick:()=>M("marv@marv-dev.com"),className:"contact-email",children:"marv@marv-dev.com"})})]})})]}),t.jsxs("form",{ref:e,onSubmit:S,children:[t.jsxs("div",{className:"contact-form-container ",children:[t.jsxs("div",{className:"contact-form-inputs-wrapper",children:[t.jsxs("div",{className:"contact-input-group",children:[t.jsx("input",{onChange:g,type:"text",name:"user_name",placeholder:"Name",className:"contact-input"}),t.jsx("span",{className:"contact-error ",children:i})]}),t.jsxs("div",{className:"contact-input-group",children:[t.jsx("input",{onChange:g,type:"email",name:"user_email",placeholder:"Email",className:"contact-input"}),t.jsx("span",{className:"contact-error",children:c})]})]}),t.jsxs("div",{className:"contact-textarea-wrapper",children:[t.jsx("textarea",{onChange:g,name:"message",className:"contact-textarea ",placeholder:"Message..."}),t.jsx("span",{className:"contact-error",children:p})]})]}),t.jsxs("div",{className:"contact-submit-wrapper",children:[t.jsx("button",{type:"submit",value:"Send",className:"contact-submit-btn btn-primary",children:"Send it"}),s&&t.jsx("p",{className:"contact-success-message",children:s})]})]})]}),t.jsx(W,{})]})]})};export{Q as default};
