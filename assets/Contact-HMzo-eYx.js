import{j as t,I as q,w as P,b as g}from"./index-fEs1j3t9.js";const n={origin:"https://api.emailjs.com",blockHeadless:!1},x=e=>e?typeof e=="string"?{publicKey:e}:e.toString()==="[object Object]"?e:{}:{},C=(e,a="https://api.emailjs.com")=>{if(!e)return;const s=x(e);n.publicKey=s.publicKey,n.blockHeadless=s.blockHeadless,n.blockList=s.blockList,n.limitRate=s.limitRate,n.origin=s.origin||a};class j{constructor(a=0,s="Network Error"){this.status=a,this.text=s}}const y=async(e,a,s={})=>{const i=await fetch(n.origin+e,{method:"POST",headers:s,body:a}),r=await i.text(),c=new j(i.status,r);if(i.ok)return c;throw c},E=(e,a,s)=>{if(!e||typeof e!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!a||typeof a!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!s||typeof s!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},V=e=>{if(e&&e.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},R=e=>e.webdriver||!e.languages||e.languages.length===0,L=()=>new j(451,"Unavailable For Headless Browser"),B=(e,a)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if(typeof a!="string")throw"The BlockList watchVariable has to be a string"},K=e=>{var a;return!((a=e.list)!=null&&a.length)||!e.watchVariable},D=(e,a)=>e instanceof FormData?e.get(a):e[a],T=(e,a)=>{if(K(e))return!1;B(e.list,e.watchVariable);const s=D(a,e.watchVariable);return typeof s!="string"?!1:e.list.includes(s)},S=()=>new j(403,"Forbidden"),O=(e,a)=>{if(typeof e!="number"||e<0)throw"The LimitRate throttle has to be a positive number";if(a&&typeof a!="string")throw"The LimitRate ID has to be a string"},A=(e,a,s)=>{const i=Number(s.getItem(e)||0);return a-Date.now()+i},k=(e,a,s)=>{setTimeout(()=>{s.removeItem(e)},a)},_=(e,a,s)=>{if(!s.throttle)return!1;O(s.throttle,s.id);const i=s.id||a,r=A(i,s.throttle,e);return r>0?(k(i,r,e),!0):(e.setItem(i,Date.now().toString()),k(i,s.throttle,e),!1)},M=()=>new j(429,"Too Many Requests"),U=(e,a,s,i)=>{const r=x(i),c=r.publicKey||n.publicKey,l=r.blockHeadless||n.blockHeadless,f={...n.blockList,...r.blockList},d={...n.limitRate,...r.limitRate};return l&&R(navigator)?Promise.reject(L()):(E(c,e,a),V(s),s&&T(f,s)?Promise.reject(S()):_(localStorage,location.pathname,d)?Promise.reject(M()):y("/api/v1.0/email/send",JSON.stringify({lib_version:"4.1.0",user_id:c,service_id:e,template_id:a,template_params:s}),{"Content-type":"application/json"}))},J=e=>{if(!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},z=e=>typeof e=="string"?document.querySelector(e):e,G=(e,a,s,i)=>{const r=x(i),c=r.publicKey||n.publicKey,l=r.blockHeadless||n.blockHeadless,f={...n.blockList,...r.blockList},d={...n.limitRate,...r.limitRate};if(l&&R(navigator))return Promise.reject(L());const u=z(s);E(c,e,a),J(u);const o=new FormData(u);return T(f,o)?Promise.reject(S()):_(localStorage,location.pathname,d)?Promise.reject(M()):(o.append("lib_version","4.1.0"),o.append("service_id",e),o.append("template_id",a),o.append("user_id",c),y("/api/v1.0/email/send-form",o))},W={init:C,send:U,sendForm:G},X=()=>t.jsx("span",{className:"rounded-full shadow-md border-2 p-2 w-min h-min border-gray-500",children:t.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 24 24",fill:"none",stroke:"#78716C",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"tabler-icon tabler-icon-mail",children:[t.jsx("path",{d:"M3 7a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2v-10z"}),t.jsx("path",{d:"M3 7l9 6l9 -6"})]})}),Q=()=>t.jsx("footer",{className:"footer",children:t.jsxs("div",{className:"footer-wrapper",children:[t.jsx("div",{className:"footer-logo",children:t.jsx("a",{href:"https://www.linkedin.com/in/david-irvine-b367b6248/",target:"_blank",rel:"noopener noreferrer",children:"David Irvine Portfolio"})}),t.jsxs("ul",{className:"footer-social-links",children:[t.jsx("li",{className:"footer-social-link",children:t.jsx("a",{href:"https://github.com/DavidIrvine-TW",target:"_blank",rel:"noreferrer",children:t.jsx(q,{})})}),t.jsx("li",{className:"footer-social-link",children:t.jsx("a",{href:"https://www.linkedin.com/in/david-irvine-b367b6248/",target:"_blank",rel:"noreferrer",children:t.jsx(P,{})})})]}),t.jsx("div",{children:t.jsx("span",{className:"footer-copyright select-none",children:" Â© 2025"})})]})}),Z=()=>{const e=g.useRef(),[a,s]=g.useState(""),[i,r]=g.useState(""),[c,l]=g.useState(""),[f,d]=g.useState(""),u="service_sfe4lok",o="template_2k64qci",w="dXv-sln1zBsnGA9Bl",H=m=>{m.preventDefault();const{user_name:h,user_email:p,message:I}=m.target.elements;let b=!1;h.value.trim()?r(""):(r("* Required"),b=!0),p.value.trim()?/\S+@\S+\.\S+/.test(p.value)?l(""):(l("* Invalid email address"),b=!0):(l("* Required"),b=!0),I.value.trim()?d(""):(d("* Required"),b=!0),!b&&(console.log("Sending email with:",{serviceId:u,templateId:o,publicKey:w}),W.sendForm(u,o,e.current,w).then(()=>{s("Message sent!"),e.current.reset(),setTimeout(()=>{s("")},4e3)},N=>{console.error("EmailJS Error Details:",N),console.error("Error text:",N.text),s("Failed to send email. Please try again.")}))},v=m=>{const{name:h,value:p}=m.target;h==="user_name"?r(p.trim()?"":"* Required"):h==="user_email"?l(p.trim()?"":"* Required"):h==="message"&&d(p.trim()?"":"* Required")},F=m=>{navigator.clipboard.writeText(m).then(()=>{alert("Email address copied to clipboard: ",m)}).catch(h=>{console.error("Failed to copy email:",h)})};return t.jsxs("section",{id:"contact",className:"contact-section ",children:[t.jsxs("div",{className:"contact-floating-shapes",children:[t.jsx("div",{className:"contact-shape contact-shape-1"}),t.jsx("div",{className:"contact-shape contact-shape-2"}),t.jsx("div",{className:"contact-shape contact-shape-3"}),t.jsx("div",{className:"contact-shape contact-shape-4"}),t.jsx("div",{className:"contact-shape contact-shape-5"})]}),t.jsxs("div",{className:"contact-wrapper ",children:[t.jsxs("div",{className:"contact-container ",children:[t.jsxs("div",{className:"contact-header-wrapper ",children:[t.jsxs("div",{className:"contact-header-left ",children:[t.jsx("h3",{className:"contact-heading  section-heading select-none",children:"Contact"}),t.jsx("h4",{className:"contact-subheading section-subheading select-none",children:"I'll get back to you soon..."})]}),t.jsx("div",{className:"contact-info-wrapper",children:t.jsxs("div",{className:"contact-info-item",children:[t.jsx(X,{}),t.jsx("div",{className:"contact-info-text-wrapper",children:t.jsx("span",{onClick:()=>F("marv@marv-dev.com"),className:"contact-email",children:"marv@marv-dev.com"})})]})})]}),t.jsxs("form",{ref:e,onSubmit:H,children:[t.jsxs("div",{className:"contact-form-container ",children:[t.jsxs("div",{className:"contact-form-inputs-wrapper",children:[t.jsxs("div",{className:"contact-input-group",children:[t.jsx("input",{onChange:v,type:"text",name:"user_name",placeholder:"Name",className:"contact-input"}),t.jsx("span",{className:"contact-error ",children:i})]}),t.jsxs("div",{className:"contact-input-group",children:[t.jsx("input",{onChange:v,type:"email",name:"user_email",placeholder:"Email",className:"contact-input"}),t.jsx("span",{className:"contact-error",children:c})]})]}),t.jsxs("div",{className:"contact-textarea-wrapper",children:[t.jsx("textarea",{onChange:v,name:"message",className:"contact-textarea ",placeholder:"Message..."}),t.jsx("span",{className:"contact-error",children:f})]})]}),t.jsxs("div",{className:"contact-submit-wrapper",children:[t.jsx("button",{type:"submit",value:"Send",className:"contact-submit-btn btn-primary",children:"Send it"}),a&&t.jsx("p",{className:"contact-success-message",children:a})]})]})]}),t.jsx(Q,{})]})]})};export{Z as default};
